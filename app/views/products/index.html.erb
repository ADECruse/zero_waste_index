
<div class="starter-template">
  <h1>Zero Waste Index</h1>
  <p class="lead">To find stores carrying products with zero packaging simply use the search button or browse the index below</p>

  <%= form_tag(products_path, :method => "get", :class => "input-group-btn") do %>
  <%= text_field_tag :search, params[:search], placeholder: "Product name...", class: "form-control" %>
  <%= submit_tag "Search", class: "btn btn-light" %>
  <% end %>
</div>
<div id="tag_cloud">
  <% tag_cloud Product.tag_counts, %w[s m l] do |tag, css_class| %>
    <%= link_to tag.name, tag_path(tag.name), class: css_class %>
  <% end %>
</div>
<a style="cursor: pointer;" onclick="myNavFunc()">Take me there!</a>

<div id="map"></div>
    <div class="row justify-content-md-center">
    <% @products.each do |product| %>
    <div class="col-md-4">
      <div class="card text-center bg-light mb-3">
        <% if asset_exist?(product.picture.downcase) %>
          <%= image_tag(product.picture.downcase, class: "card-img-top") %>
        <% else %>
          <%= image_tag("placeholder.svg", class: "card-img-top") %>
        <% end %>
        <div class="card-body">
          <h3 class="card-title"><%= product.item %></h3>
          <h5 class="card-title">Description</h5>
          <p class="card-text">
            <% if product.description.blank? == true %>
              None available
            <% else %>
              <%= product.description %>
            <% end %>
          </p>
          <h5 class="card-title">Packaging</h5>
          <p class="card-text"><%= product.packaging %></p>
          <h5 class="card-title">Plastic Free?</h5>
          <p class="card-text">
            <% if product.plastic_free == true %>
              Yes
            <% else %>
              No
            <% end %>
          </p>
          <h5 class="card-title">Star Rating</h5>
          <p class="card-text"><%= product.rating %>/5</p>
          <h5 class="card-title">Where?</h5>
          <p class="card-text"><%= product.location %></p>
          <p>
            Tags: <%= raw product.tags.map(&:name).map { |t| link_to t, tag_path(t) }.join(', ') %>
          </p>
        </div>
      </div>
    </div>
    <%end%>
</div>
    <% if @products.blank? %>
      <h5>There are no products containing the term <%= params[:search] %>.</h5>
    <% end %>
  <!-- </div> -->
